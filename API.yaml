openapi: 3.0.3
info:
  title: Ordering System API
  version: 1.0.0

servers:
  - url: http://localhost:5000

paths:

  /api/users/login:
    post:
      operationId: "users.login"
      tags:
        - "Users"
      summary: "User login"
      responses:
        "200":
          description: | 
            Login successful
            Returns authenticated user info including role (e.g. user, admin).
        "400":
          description: "Missing or malformed request body"
        "401":
          description: "Invalid credentials"

  /api/users/register:
    post:
      operationId: "users.register"
      tags:
        - "Users"
      summary: "Register a new user"
      responses:
        "201":
          description: "User registered"
        "400":
          description: "Invalid input data"
        "409":
          description: "Username already exists"

  /api/users/me:
    get:
      operationId: "users.me"
      tags:
        - "Users"
      summary: "Get current logged-in user"
      responses:
        "200":
          description: "User profile including access role."
        "401":
          description: "Unauthorized"
        "422":
          description: "Invalid or malformed JWT token"